<%- include('_navbar') %>
<!DOCTYPE html>
<html>
<head>
  <title>React/Node.js Jobs in India</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .job-listing {
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .job-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .job-company {
      color: #888;
      margin-bottom: 10px;
    }
    .job-location {
      color: #555;
      font-size: 14px;
    }
    .job-description {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>React/Node.js Jobs in India</h1>
  <div id="jobList"></div>

  <script>
    const jobListElement = document.getElementById('jobList');

    async function fetchJobs() {
      try {
        const response = await fetch(
          'https://jobs.github.com/positions.json?description=react+node&location=india'
        );
        const jobs = await response.json();

        if (jobs.length === 0) {
          jobListElement.innerHTML = 'No jobs found.';
          return;
        }

        jobs.forEach(job => {
          const jobListing = document.createElement('div');
          jobListing.className = 'job-listing';

          const jobTitle = document.createElement('div');
          jobTitle.className = 'job-title';
          jobTitle.textContent = job.title;

          const jobCompany = document.createElement('div');
          jobCompany.className = 'job-company';
          jobCompany.textContent = job.company;

          const jobLocation = document.createElement('div');
          jobLocation.className = 'job-location';
          jobLocation.textContent = job.location;

          const jobDescription = document.createElement('div');
          jobDescription.className = 'job-description';
          jobDescription.innerHTML = job.description;

          jobListing.appendChild(jobTitle);
          jobListing.appendChild(jobCompany);
          jobListing.appendChild(jobLocation);
          jobListing.appendChild(jobDescription);

          jobListElement.appendChild(jobListing);
        });
      } catch (error) {
        console.error('Error fetching jobs:', error);
        jobListElement.innerHTML = 'An error occurred while fetching jobs.';
      }
    }

    fetchJobs();
  </script>
</body>
</html>
