$(document).on("click","#company-edit-modal-launch",(function(){var t=$(this).attr("data-id"),e=$(this).attr("data-doi"),n=$(this).attr("data-companyName"),i=$(this).attr("data-jobRole");$("#editCompany #company-edit-form").attr("action","/company/edit-company/"+t),$("#editCompany #edit_doi").val(e),$("#editCompany #edit_company_name").val(n),$("#editCompany #edit_job_role").val(i)})),$("[data-bs-toggle]").on("click",(function(){if("company_accordian"===$(this).attr("id")){var t=$(this).attr("data-id");$.ajax({type:"GET",url:"/interview/fetch/"+t,success:function(e){let n=interviewDom(e);$("#interviewTable_"+t).html(""),$("#interviewTable_"+t).append(n)},error:function(t){console.log(t.responseText)}})}}));let interviewDom=function(t){if(0===t.data.interviews.length)return $('\n        <table class="table table-bordered">\n            <thead>\n              <tr class="text-center">\n                <th scope="col">Batch</th>\n                <th scope="col">Student Name</th>\n                <th scope="col">College</th>\n                <th scope="col">Interview Result</th>\n                <th scope="col">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n                <tr class="text-center">\n                    <td colspan="5">No Records Found</td>\n                </tr>\n            </tbody>\n        </table>');{let e='<table class="table table-bordered">\n        <thead>\n          <tr class="text-center">\n            <th scope="col">Batch</th>\n            <th scope="col">Student Name</th>\n            <th scope="col">College</th>\n            <th scope="col">Interview Result</th>\n            <th scope="col">Actions</th>\n          </tr>\n        </thead>\n        <tbody>',n="";for(let e=0;e<t.data.interviews.length;e++)n+=`\n            <tr class="text-center">\n                <td>${t.data.interviews[e].student.batch}</td>\n                <td>${t.data.interviews[e].student.name}</td>\n                <td>${t.data.interviews[e].student.college}</td>`,"Pass"==t.data.interviews[e].interviewResult?n+=`<td>\n                            <select class="select" id="interviewRes" name="interviewRes" value="${t.data.interviews[e].interviewResult}" data-id="${t.data.interviews[e]._id}">\n                                <option value="">Select</option>\n                                <option value="Pass" selected>Pass</option>\n                                <option value="Fail">Fail</option>\n                                <option value="On Hold">On Hold</option>\n                                <option value="Didn't Attempt">Didn't Attempt</option>\n                            </select>\n                        </td>`:"Fail"==t.data.interviews[e].interviewResult?n+=`<td>\n                            <select class="select" id="interviewRes" name="interviewRes" value="${t.data.interviews[e].interviewResult}" data-id="${t.data.interviews[e]._id}">\n                                <option value="">Select</option>\n                                <option value="Pass">Pass</option>\n                                <option value="Fail" selected>Fail</option>\n                                <option value="On Hold">On Hold</option>\n                                <option value="Didn't Attempt">Didn't Attempt</option>\n                            </select>\n                        </td>`:"On Hold"==t.data.interviews[e].interviewResult?n+=`<td>\n                            <select class="select" id="interviewRes" name="interviewRes" value="${t.data.interviews[e].interviewResult}" data-id="${t.data.interviews[e]._id}">\n                                <option value="">Select</option>\n                                <option value="Pass">Pass</option>\n                                <option value="Fail">Fail</option>\n                                <option value="On Hold" selected>On Hold</option>\n                                <option value="Didn't Attempt">Didn't Attempt</option>\n                            </select>\n                        </td>`:"Didn't Attempt"==t.data.interviews[e].interviewResult?n+=`<td>\n                            <select class="select" id="interviewRes" name="interviewRes" value="${t.data.interviews[e].interviewResult}" data-id="${t.data.interviews[e]._id}">\n                                <option value="">Select</option>\n                                <option value="Pass">Pass</option>\n                                <option value="Fail">Fail</option>\n                                <option value="On Hold">On Hold</option>\n                                <option value="Didn't Attempt" selected>Didn't Attempt</option>\n                            </select>\n                        </td>`:n+=`<td>\n                            <select class="select" id="interviewRes" name="interviewRes" value="${t.data.interviews[e].interviewResult}" data-id="${t.data.interviews[e]._id}">\n                                <option value="" selected>Select</option>\n                                <option value="Pass">Pass</option>\n                                <option value="Fail">Fail</option>\n                                <option value="On Hold">On Hold</option>\n                                <option value="Didn't Attempt">Didn't Attempt</option>\n                            </select>\n                        </td>`,n+=`<td>\n                        <a href="/interview/delete-interview/${t.data.interviews[e]._id}" class="btn btn-sm btn-danger">Delete</a>\n                    </td>\n                </tr>`;return e+n+"</tbody>\n                    </table>"}};$("[data-bs-toggle]").on("click",(function(){if("interview-modal-launch"===$(this).attr("id")){var t=$(this).attr("data-id");$.ajax({type:"GET",url:"/interview/fetch-students/",success:function(e){let n=studentSelectDom(e.data);$("#company_id").val(t),$("#allocateInterview #select_student").html(""),$("#allocateInterview #select_student").append(n)},error:function(t){console.log(t.responseText)}})}}));let studentSelectDom=function(t){if(0===t.students.length)return $("<option selected>No Students Records Found</option>");{let e="<option selected>Select Students</option>\n";for(let n=0;n<t.students.length;n++)e+=`<option value="${t.students[n]._id}">Name: ${t.students[n].name} || College: ${t.students[n].college}</option>\n`;return e}};$(document).on("change","select",(function(){"interviewRes"===$(this).attr("id")&&$.ajax({type:"POST",url:"/interview/update-result/"+$(this).attr("data-id")+"?result="+$(this).val(),data:{},dataType:"json",contentType:"application/json",success:function(t){new Noty({theme:"relax",text:"Student Result Updated Successfully",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){alert("Error occured "+t.message)}})}));